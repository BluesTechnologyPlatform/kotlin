// multiplatform module A

ac [common]
aJvm [jvm]
aJs [js]

apJvm -> ac [expectedBy]
apJs -> ac [expectedBy]

// multiplatform module B (depends on module A)

bc [common]
bpJvm [jvm]
bpJs [js]

bpJvm -> bc [expectedBy]
bpJs -> bc [expectedBy]

bc -> ac [compile]
bpJvm -> apJvm [compile]
bpJs -> apJs [compile]